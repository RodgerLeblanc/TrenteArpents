<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="TrenteArpents.Views.MainMenuMaster"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:hlp="clr-namespace:TrenteArpents.Helpers"
    Title="MainMenuMaster.xaml">
    
    <Grid>
        <Grid.Margin>
            <OnPlatform x:TypeArguments="Thickness">
                <On Platform="iOS" Value="0,20,0,0"/>
            </OnPlatform>
        </Grid.Margin>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Image
            Grid.RowSpan="3"
            Source="{StaticResource masterBackgroundImage}" 
            Aspect="AspectFill" />

        <BoxView
            Grid.RowSpan="3"
            BackgroundColor="Black"
            Opacity="0.4"
            HorizontalOptions="FillAndExpand"
            VerticalOptions="FillAndExpand" />

        <StackLayout HorizontalOptions="FillAndExpand" Padding="10,5">
            <Image 
                Source="{hlp:ImageResource TrenteArpents.Images.feteDeQuartier.png}"
                Aspect="AspectFit"
                HorizontalOptions="FillAndExpand"
                VerticalOptions="Center" />
            
            <BoxView 
                HeightRequest="1" 
                Opacity="0.5" 
                Margin="5,0" 
                HorizontalOptions="FillAndExpand" />
        </StackLayout>

        <ListView
            Grid.Row="1"
            ItemsSource="{Binding DetailPages}" 
            ItemSelected="ListView_ItemSelected"
            HorizontalScrollBarVisibility="Never"
            VerticalScrollBarVisibility="Never">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <ViewCell>
                        <StackLayout Orientation="Horizontal" Margin="10">
                            <Image
                                Source="{Binding ImageSource}" 
                                VerticalOptions="Center" 
                                HeightRequest="30" 
                                WidthRequest="30" />

                            <Label
                                Text="{Binding Name}" 
                                VerticalOptions="Center" />
                        </StackLayout>
                    </ViewCell>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <StackLayout Grid.Row="2" HorizontalOptions="FillAndExpand" Padding="10,5" BackgroundColor="#88000000">
            <StackLayout.Resources>
                <Style TargetType="Label">
                    <Setter Property="Margin" Value="0,-5" />
                    <Setter Property="FontSize" Value="12" />
                    <Setter Property="HorizontalOptions" Value="Center" />
                </Style>

                <Style TargetType="Image">
                    <Setter Property="HeightRequest" Value="80" />
                    <Setter Property="Aspect" Value="AspectFill" />
                    <Setter Property="HorizontalOptions" Value="Center" />
                    <Setter Property="VerticalOptions" Value="Center" />
                </Style>
            </StackLayout.Resources>

            <BoxView 
                HeightRequest="1" 
                Opacity="0.5" 
                Margin="5,0" 
                HorizontalOptions="FillAndExpand" />

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                
                <StackLayout VerticalOptions="Center">
                    <Label Text="Commanditaires" />
                    <Label Grid.Row="1" Text="principaux" />
                </StackLayout>

                <Image 
                    Grid.Column="1"
                    Source="{hlp:ImageResource TrenteArpents.Images.Sponsors.domaineDes30Arpents.png}" />
                <BoxView 
                    Grid.Column="2"
                    WidthRequest="1" 
                    HeightRequest="80" 
                    Opacity="0.5" 
                    Margin="5,0" />
                <Image 
                    Grid.Column="3"
                    Source="{hlp:ImageResource TrenteArpents.Images.Sponsors.groupeDoyon.png}" />
            </Grid>
        </StackLayout>
    </Grid>
</ContentPage>